<!DOCTYPE html>
<html>
    <head>
        <title>
            Envelope Status
        </title>
        <meta charset="utf-8">
        <link href="/docusign/tableAssets/bootstrap-table.min.css" rel="stylesheet">
        <link href="/docusign/tableAssets/bootstrap-table.min.css" rel="stylesheet">
        <link href="/docusign/tableAssets/bootstrap.min.css" rel="stylesheet">
        <link href="/docusign/tableAssets/bootstrap-table.min.css" rel="stylesheet">
        <link href="/docusign/tableAssets/examples.css" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <h1>
                Envelope Status
            </h1>
            <table id="envTbl"></table>
        </div>
        <script>
        </script>
        <script src="/docusign/tableAssets/jquery.min.js">
        </script>
        <script src="/docusign/tableAssets/bootstrap.min.js">
        </script>
        <script src="/docusign/tableAssets/bootstrap-table.js">
        </script>
        <script>
            $("#main_body_section").css("height:800px");
            var $table = $('#envTbl');
            $table.bootstrapTable({
              url: '/docusign-component/control/getEnvelopeStatus',
              paginationVAlign: "top",
              pagination: true,
              sidePagination: "server",
              pageSize: 10,
              pageNumber: 1,
              search: true, 
              columns:  [{ field:"senderUserLoginId", title:"user login" },
                         { field:"envelopeEmailSubject", title:"subject" },
                         { field:"envelopeStatus", title:"envelope" },
                         { field:"statusChangedDateTime", title:"changed" },
                         { field:"firstRecipientName", title:"recipient name" },
                         { field:"firstRecipientStatus", title:"status" },
                         { field:"firstRecipientSignedDateTime", title:"signed" },
                         { field:"firstRecipientDeliveredDateTime", title:"delivered" },
                         { field:"secondRecipientName", title:"recipient name" },
                         { field:"secondRecipientStatus", title:"status" },
                         { field:"secondRecipientSignedDateTime", title:"signed" },
                         { field:"secondRecipientDeliveredDateTime", title:"delivered" }]
          });
          //keep data fresh
          setInterval(function(){  
            console.log("refresh envolpe status table");
            $table.bootstrapTable("refresh", {silent: true});

          }, 15000);
        </script>
    </body>
</html>
